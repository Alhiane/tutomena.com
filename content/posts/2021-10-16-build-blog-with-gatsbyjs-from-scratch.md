---
title: 'ุชุนูู ุจูุงุก ูุฏููุฉ Gatsby.js ุฎุทูุฉ ุจุฎุทูุฉ'
date: 2020-10-16
slug: 'build-blog-with-gatsbyjs-from-scratch'
template: 'post'
categories:
  - javascript
tags:
  - Gatsby.js
  - React.js
thumbnail: '../thumbnails/gatsby.png'
---

ุทุฑููุฉ ุจูุงุก ูุฏููุฉ ุจุงุณุชุฎุฏุงู **Gatsby.js** ูุงู ูุทูุจ ุงููุซูุฑ ูู ูุชุงุจุนู ุชูุชููููุง ููุฐ ุฃู ุฃุนููุช [ููู ุงููุฏููุฉ ูู ููุฑุฏุจุฑูุณ ุฅูู ุบุงุชุณุจู](/blogging/switching-from-wordpress-to-gatsbyjs/).

ุชูุงุณูุช ุนู ุชูุจูุฉ ูุฐุง ุงูุทูุจ ูุฃููู ุฃุนูู ููููุง ุจุฃูู ุณูููู ุฏุฑุณุง ุทูููุง ๐ ูุจุงูุชุงูู ุณูุชุทูุจ ููู ูุฌููุฏุง ูููุชุง ุฑุฃูุช ุฃูู ูู ุงูุฃูุถู ุชุณุฎูุฑู ููุดุฑ ุฃูุซุฑ ูู ุชุฏูููุฉ ูุงุญุฏุฉ ูู ููุงุถูุน ุฃุฎุฑู ุชููู ุงูุชูุงููู.

ูููู ุงูููู ุงูุชูู ุฒูู ุงูุชูุงุณู ูุงูุชุณููู ๐ช ูุฑุฑุช ุฃู ุฃูุฌุฒ ูุฐุง ุงูุฏุฑุณ ูููุง ููู ุงูุฃูุฑุ ุงูููู ุฃู ููุงู ุฅุนุฌุงุจ ุงูููุชููู ุจ Gatsby.js ููุณุชููุฏูุง ููู ูุจูุงุก ูุฏููุงุชูู ุงูุฎุงุตุฉ ูู ุงูุตูุฑ.

ูุนุชุจุฑ **ูุงุซู ุงูุดููุทุฑ** ูู ุฃูุดุท ูุฃููู ุฃุตุฏูุงุก ุงููุฏููุฉ ููุฐ ูุฏุฉ ููุณุช ุจุงููุตูุฑุฉ.. ูุฑุบุจุฉ ููู ูู ุดูุฑู ุนูู ุชูุงุนูู ุงูุฏุงุฆู ุทูุจุช ููู ุงูุฅุฐู ูุขุฎุฐ [ูุฏููุชู ุงูุดุฎุตูุฉ](http://watheq.xyz/) ููุซุงู ูุนูู ุนููู ุงููููุ ุฅุฐ ุณุฃุญูููุง ุจุงููุงูู ููุฏููุฉ ุณุงููุฉ ูุจููุฉ ุนูู Gatsby ูุน ุฌููุน ุงููุฒุงูุง ูุงููุธุงุฆู ุงูุชู ุชููุฑูุง:

- ูุงุฆูุฉ ุงูููุงูุงุช.
- ุตูุญุฉ ุงูููุงู ูุน ุชุนูููุงุช Disqus.
- ุตูุญุฉ ุงูุชุตููู (Category page).
- ุตูุญุฉ ุงููุณู (Tag page).
- ุตูุญุงุช "ุนูู"ุ "ุณูุงุณูุฉ ุงูุฎุตูุตูุฉ" ...
- ุตูุฏูู ุงูุจุญุซ.
- ุตูุฏูู ุงูุฅุดุชุฑุงู ุจุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉ.
- ูุงููุฒูุฏ...

ุณูุชุทุฑู ููู ูุฐู ุงูุฃุดูุงุก ูุฃุดุฑุญูุง ุจุงูุชูุตูู **ุฎุทูุฉ ุจุฎุทูุฉ** ููุง ุนูุฏุชูููู ูู ุงููุฏููุฉ.

ุณูููู ุงูุฏุฑุณ ูุงูููุงู ุทูููุง ููููุฆุง ุจุงููุนูููุงุชุ ูุฐูู ุฃูุตุญู ุตุฏููู ุฃู ุชุญุถุฑ ูููุชู โ ูุชุฌูุณ ูุฑุชุงุญุง ููู ุชููู ูุนู ุญุชู ุงูููุงูุฉ.

<blockquote>
  <p>
  ุฅุฐุง ูู ุชูู ูุฏูู ุฃู ุฎุจุฑุฉ ูู ุฌุงูุง ุณูุฑูุจุชุ React.js ุฃู Node.js ููู ุงููุญุชูู ุฃู ุชูุงุฌู ุจุนุถ ุงูุตุนูุจุงุช ูู ูุชุงุจุนุฉ ุงูุฏุฑุณ.
  </p>

  <p>
  ุณุฃุญุงูู ูุฏุฑ ุงููุณุชุทุงุน ุชุจุณูุท ูู ุฎุทูุฉ ูุดุฑุญูุง ุจุดูู ุฌูุฏ. ุฅุฐุง ูุงู ุฐูู ุบูุฑ ูุงูู ุจุงููุณุจุฉ ูู ูุฃูุตุญู ุจูุญุฑู ุงูุจุญุซ Google ูุงูุชูุซูู ุงูุฑุณูู ู Gatsby.js ููุฒูุฏ ูู ุงูุชูุตูู.
  </p>
</blockquote>

## ุชูุถูุญ

ุฃุณุฑุน ุทุฑููุฉ ููุจุฏุก ูู ุฃู ูุดุฑูุน `Gatsby` ูู ุจุงุณุชุฎุฏุงู ุงูุญุฒูุฉ `gatsby-cli` ุงูุชู ุชููููุง ูู ุฅูุดุงุก ูุดุฑูุน ุฃููู ูุน ุจุนุถ ุงูุฅุนุฏุงุฏุงุช ุงูุฅูุชุฑุงุถูุฉ.

ุณุชุฌุฏูู ุชูุงุตูู ุฃูุซุฑ ุญูู ูุฐู ุงูุทุฑููุฉ ูู [ุงูุชูุซูู ุงูุฑุณูู](https://www.gatsbyjs.com/docs/quick-start/).

**ูู ุฃูุฌุฃ ููุฐู ุงูุทุฑููุฉ** ูู ุฏุฑุณูุง ูุฐุงุ ูุฃููู ุฃุฑูุฏ ุฃู ุฃุจุฏุฃ ูุนูู ูู ุงูุตูุฑุ ูู ูุฌูุฏ ูุงุฑุบ ูุจุฏูู ุฃู ุฅุนุฏุงุฏุงุช ุงูุชุฑุงุถูุฉ ูุง ูุนุฑู ููุจุชุฏุฆูู ูู ุฃูู ุฃุชุช ูููุงุฐุง.

ุฃุชููู ุฃููุง ุงุชูููุง ุจุฎุตูุต ูุฐู ุงูููุทุฉ ูุฃููุง ูุงุถุญุฉ ุจูุง ูููู.

ุงูุขู ููุง ุจูุง ๐

## ุงูุจุฏุงูุฉ

ููุง ูู ุงูุญุงู ูู ุจุฏุงูุฉ ุฃู ูุดุฑูุนุ ุฃูู ุดูุก ุณูููู ุจู ูู ุฅูุดุงุก ูุฌูุฏ ุฌุฏูุฏ ููุฐู ุงููุฑุฉ ุณูููู ุงุณูู `gatsby-watheq`.

ุณูุฏุฎู ูููุฌูุฏ ุนู ุทุฑูู ูุงูุฐุฉ ุงูุฃูุงูุฑ ุงูุณุทุฑูุฉ:

```
cd path/to/gatsby-watheq
```

### ุฅูุดุงุก ุงูููู `package.json`

ุงูุขู ููุญู ุฏุงุฎู ุงููุฌูุฏ ุงูุฑุฆูุณู ููุดุฑูุนูุงุ ุณูููู ุจุฅูุดุงุก ุงูููู `package.json` ุฃูุชููุงุชูููุง ุนู ุทุฑูู ุงูุฃูุฑ:

```
npm init --y
```

### ุฅุถุงูุฉ ุงูุญุฒู ุงูุฑุฆูุณูุฉ

ุจุนุฏ ุฐูู ุณูููู ุนูููุง ุชุซุจูุช 3 ููุชุจุงุช ุฑุฆูุณูุฉ: ุงุซูุชุงู ูููุง ููุง `react` ู `react-dom` ุงููุชุงู ุงุนุชุฏูุง ุฑุคูุชููุง ูู ุฃู ูุดุฑูุน ู React.js ูุงูุซุงูุซุฉ ูู ุจุทุจูุนุฉ ุงูุญุงู ุญุฒูุฉ `gatsby`.

```
npm install react react-dom gatsby
```

ุจุนุฏ ุชุซุจูุช ูุฐู ุงูุญุฒู ุณูููู ุนูููุง ุฅุถุงูุฉ ุจุนุถ ุงูุณูุฑูุจุชุงุช ุฅูู ููู `package.json` ุญุชู ูููู ุจุฅููุงููุง ุชุดุบูู Gatsby.js ูุงูุชุญูู ููู ุจุณูููุฉ ุฃูุซุฑ ูู ุฎูุงู ุงูุฃูุงูุฑ ุงูุณุทุฑูุฉ:

```json
"scripts": {
  "build": "gatsby build",
  "clean": "gatsby clean",
  "develop": "gatsby develop"
}
```

ูุฐู ุงูุฃูุงูุฑ ุชุถุงู ููุง ูููุง ูู ุงูููู `package.json` ูุจุงูุชุญุฏูุฏ ูู ููุทูุฉ `scripts`ุ ุจุฐูู ูููู ุงูุดูู ุงูููุงุฆู ููุฐุง ุงูููู ุนูู ุงููุญู ุงูุชุงูู:

<div class="filename">package.json</div>

```json{7-9}
{
  "name": "gatsby-watheq",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "build": "gatsby build",
    "clean": "gatsby clean",
    "develop": "gatsby develop"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "gatsby": "^2.32.4",
    "react": "^17.0.1",
    "react-dom": "^17.0.1"
  }
}
```

ุงูุขู ุจุงุช ุจุฅููุงููุง ุชุดุบูู `Gatsby` ุนู ุทุฑูู ุงูุฃูุฑ `npm run develop` ุงูุฐู ุณููุชุญ ุงููููุน ุนุจุฑ ุงูุฎุงุฏู ุงููุญูู ูู ุฎูุงู ุงููููุฐ `8000`. ูููู ูู ูุญุตู ุณูู ุนูู ุตูุญุฉ `404` ๐ ูุฃูู ูู ููู ุฅูู ุญุฏูุฏ ุงููุญุธุฉ ุจุฅุถุงูุฉ ุฃู ูุญุชูู ูููุดุฑูุน.

![Gatsby.js 404](../images/gatsby-404.png)

## ุงูุจุฏุก ุจุฅูุดุงุก ููููุงุช React.js ุงูุชู ุณูุญุชุงุฌูุง

ูุจู ุฅุถุงูุฉ ุฃู ูุญุชูู ูููููุน ุณูููู ุนูููุง ุฃููุง ุฅูุดุงุก ูููู ุฌุฏูุฏ ุงุณูู `Layout` ูุณูููู ุจูุซุงุจุฉ ูุงูุจ ุงูุญููู ุงูุฐู ุณุชูุถุน ููู ูุงูุฉ ุตูุญุงุช ุงููููุน ููุง ูู ูุงุถุญ ูู ุงุณูู.

ูุฐุง ุงููููู ุงูุฑุฆูุณู ุณูููู ุจุฏุงุฎู ุงููุฌูุฏ ุงูุฌุฏูุฏ `components` ุงูุฐู ุณููุดุฆู ุจุฏูุฑู ุจุฏุงุฎู ูุฌูุฏ ุขุฎุฑ ุฌุฏูุฏ ูู `src`.

ุจุชุนุจูุฑ ุขุฎุฑ: `src` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู ุงูุฐู ุณูุถู ูู ุงูุดูุฑุฉ ุงููุตุฏุฑูุฉ ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจุงููุฏููุฉ (ููููุงุช React ููููุงุช ุฌุงูุง ุณูุฑูุจุช ุจุดูู ุนุงู).

_ุงููุญุชูู ุณูููู ูู ูุฌูุฏ ุขุฎุฑ ุจุฌุงูุจ `src` ููุง ุณูุฑู ูู ููุช ูุงุญู._

<div class="filename">src/components/Layout.js</div>

```jsx
import React from 'react';

import Navigation from '../components/Navigation';
import Sidebar from '../components/Sidebar';
import Footer from '../components/Footer';

import '../styles/main.css';

const Layout = ({ children }) => {
  return (
    <div className="page-container">
      <Navigation />
      <div className="sections-container">
        <section className="main-section">{children}</section>
        <section className="side-bar">
          <div className="white-box padding-2">
            <Sidebar />
          </div>
        </section>
      </div>
      <Footer />
    </div>
  );
};

export default Layout;
```

ุฅุฐุง ุฃูููุชู ูุธุฑุฉ ุนูู ุจููุฉ HTML ุงูุฎุงุตุฉ ุจูุฏููุฉ ูุงุซู ูุณุชูุงุญุธูู ุจุฃููู ุญุงูุธุช ุนูู ููุณ ุงูุจููุฉ ููู ุฃุบูุฑ ูููุง ุฅูุง ุจุนุถ ุงูุชูุงุตูู ุงูุตุบูุฑุฉ.

ููุง ูู ูุงุถุญ ูู `Layout.js`ุ ููุงู ููุงู ูููููู `Navigation` ุงูุฐู ููุซู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ูููุฏููุฉุ ููุนู ุงููููู `Sidebar` ุงูุฐู ููุซู ุงูุดุฑูุท ุงูุฌุงูุจู ุจุทุจูุนุฉ ุงูุญุงู. ููู ุงูุฃุฎูุฑ ููุงู `Footer` ุงูุฐู ูุถู ูู ูุง ูุฑูุฏ ุฃู ูุธูุฑ ุฃุณูู ุงููููุน.

ูุงุญุธ ูุฐูู ุฃููุง ูููุง ุจุงุณุชูุฑุงุฏ ุงูุชูุณูู `main.css` ุงูุฎุงุต ุจุงููุฏููุฉ. ููุช ุจูุณุฎู ูู ูุฏููุฉ ูุงุซู ููุง ูู.

ุงูุฌุฒุก ุงูููู ูู ูุฐุง ุงููููู ูู ุงูุฎุงุตูุฉ `children` ุงูุชู ุชูุซู ุงููุญุชูู ุงูุฏููุงูููู ูุงููุชุบูุฑ ุจุญุณุจ ูุง ููุถุน ุฏุงุฎู ูุณู ุงููููู `Layout`.

<div class="filename" style="text-align: right;">ูุซุงู</div>

```jsx
<Layout>ูุฐุง ุงููุญุชูู ุณูุธูุฑ ููุงู children.</Layout>
```

ุงูุตูุฑุฉ ุงูุชุงููุฉ ุชุดุฑุญ ูู ูุง ููุชู ุจุทุฑููุฉ ุฃุฎุฑู:

![Watheq.xyz Layout](../images/watheq-layout.png)

ุณูููู ุจุฅููุงููู ูุฐูู ุฅููุงุก ูุธุฑุฉ ูู [ูุณุชูุฏุน ุงููุดุฑูุน ุนูู Github.com](http://github.com/aissa-bouguern/gatsby-watheq/) ุญูุซ ูุงูุฉ ุงููููุงุชุ ุฅุฐ ูุง ูููู ุฃู ุฃุดุฑุญ ูู ูููู ุนูู ุญุฏุฉ ูุฃููุง ูุญุฏ ุงูุณุงุนุฉ ูู ูุชุทุฑู ุฅูู ุฃู ุดูุก ุฌุฏูุฏ. ููุท ุฃููุงุฏ JSX ู React.js.

## ุฅุถุงูุฉ ุงููุญุชูู

ูููู ุฅุถุงูุฉ ุงููุญุชูู ููููุงูุน ุงููุจููุฉ ุนูู Gatsby.js ุจุงุณุชุนูุงู ุฃููุงุน ูุฎุชููุฉ ูู ุงููููุงุช ูุซู `yaml`ุ `markdown` ูุบูุฑููุง. ูุนูุฏ ุงูุญุฏูุซ ุนู ุงููุฏููุงุช ูุฅู `markdown` ูู ุงูููุน ุงูุฃูุซุฑ ุงุณุชุฎุฏุงูุง ูุณูููุฉ ุงูุชุนุงูู ูุนู ุญุชู ูู ุทุฑู ุงููุณุชุฎุฏู ุงูุนุงุฏู.

ููู ูุจุฏุฃ ุจุฅุถุงูุฉ ุงูุชุฏูููุงุช ุฅูู ูุฏููุชูุง ุณูููู ุจุฅูุดุงุก ูุฌูุฏ ุฌุฏูุฏ ุงุณูู `content` ุจุฌุงูุจ ุงููุฌูุฏ `src`ุ ุจุฏุงุฎูู ุณูุถูู ูุฌูุฏุง ุขุฎุฑ ุจุงุณู `posts` ุณูุถู ุงูุชุฏูููุงุช ููุฌูุฏ ุขุฎุฑ ูููู ุงุณูู ูุซูุง `pages` ูู ุฃุฌู ุงูุตูุญุงุช ูุซู "ุงุชุตู ุจูุง"ุ "ุนูู" ุฅูุฎ...

ุฏุงุฎู `posts` ุณูููู ุจุฅูุดุงุก ููู ูู ููุน `markdown` ููููู ุงุณูู ูุซูุง `the-birth-of-israel-documentary.md`.

ูู ูุฐุง ุงูููู ุณูุถูู ูุญุชูู ุชุฏููุชูุง ุงูุฃููู ูุน ูุงูุฉ ุงููุนูููุงุช ุงููุชุนููุฉ ุจูุง ูุซู ุงูุนููุงูุ slug (ุฃู ุงูุฑุงุจุท)ุ ุงูุชุตูููุ ุงููุณููุ ุชุงุฑูุฎ ุงููุดุฑ ูุบูุฑูุง...

<div class="filename">content/posts/the-birth-of-israel-documentary.md</div>

```
---
title: 'ูุฑุงุฌุนุฉ ูุซุงุฆูู ูููุงุฏ ุฅุณุฑุงุฆูู The Birth of Israel'
date: 2020-09-16
slug: 'the-birth-of-israel-documentary'
template: 'post'
categories:
  - ุชุงุฑูุฎ
tags:
  - ููุณุทูู
  - ุฅุณุฑุงุฆูู
  - ุงูููุงู ุงูุตููููู
  - BBC
  - ูุซุงุฆูู
  - ุชุงุฑูุฎ
about: 'ูุฑุงุฌุนุฉ ููุซุงุฆูู'
updated_at: 2020-09-21
---

ุดุงูุฏุช ูุจู ูุชุฑุฉ ูุซุงุฆูู ูู BBC ูุชุญุฏุซ ุงููุซุงุฆูู ุนู ูุดุฃุฉ ุฅุณุฑุงุฆูู ุจููุงุณุจุฉ ูุฑูุฑ 60 ุณูุฉ ุนูู ุฐูุฑู ููุงููุง ุงููุดุฆูู. ุงูุชููุช ุจุงููุซุงุฆูู ูุฃูู ูุนุฑุถ ูุฌูุฉ ุงููุธุฑ ุงูุจุฑูุทุงููุฉ ููููุถูุน ูููุฏููุง ุจุงูุฃุณุงุณ ูููุดุงูุฏ ุงูุบุฑุจู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ. ุงูุชููุช ุจู ูุฃุฑู ู ูุชุนุงูู ุงูุฅุนูุงู ุงูุบุฑุจู ูุน ุงููุถูุฉ ุงูููุณุทูููุฉ ููุง ุงูุฑุคูุฉ ุงูุชู ููุฏููุง ุฎูุงู ุงูุฑุคูุฉ ุงููุญุณููุฉ ุงููุงุถุญุฉ ูุฏููุง ูุญู ุงูุนุฑุจ ูุงููุณูููู.

ูุงู ููุงู ุฃุณููุจ ูุณู ุงูุนุตุง ูู ุงููุณุทุ ูุงูุธููุฑ ุจูุธูุฑ ุงููุญุงูุฏ ูู ุฃุณููุจ ุงูููุงุฉ ูุงููุณุงูุงุฉ ุจูู ุงูุฌูุงุฏ ูุงูุถุญูุฉ. ูุงู ููุงู ููุงุก ูุน "ุดูุนูู ุจูุฑูุฒ" ุงูุฑุฆูุณ ุงูุฅุณุฑุงุฆููู ุงูุฃุณุจู ูุบูุฑู ูู ุงูุดุฎุตูุงุช ุงูุฅุณุฑุงุฆูููุฉ ูุงูุดุฎุตูุงุช ุงูุนุฑุจูุฉ.

ูุงุญุธุช ูู ูุจุฑุฉ ุญุฏูุซ ุงูุฅุณุฑุงุฆููููู ุงูุบุฑูุฑ ุงูุดุฏูุฏ ุญูุซ ูููู ุดูุนูู ุจูุฑูุฒ ุฃููู [ุฃู ุงูุฅุณุฑุงุฆููููู] ุทููุฑูุง ููุฐ ุฃูุงููู ุงูุฃููู ุฃูุถู ุฒุฑุงุนุฉ ุฑุจูุง ุนูู ุงูุฃุฑุถ.
```

ุฅูู ุงูุขู ุณุชุธู ุตูุญุฉ `404` ุชุธูุฑ ูู ุงููููุน ูุฃููุง ูุนู ุฃุถููุง ุงููุญุชูู ูููููุง ูู ููู ุจุนุฏ ูุบุงุชุณุจู ุฃู ุฐูู ุงููุญุชูู ููุฌูุฏ ููู ูุนููู ููู ูุฃุฎุฐู ููุญููู ูุตูุญุงุช.

## ุงูุฅุถุงูุงุช

ููู ูููู ุจููุฏูุฑ `Gatsby` ุชูุฏูู ุฃููุงุน ูุฎุชููุฉ ูู ุงููุญุชููุงุช ููุฑุงุกุฉ ุฃููุงุน ูุฎุชููุฉ ูู ุงููููุงุช ูุฅูู ูุนุชูุฏ ุนูู ูุธุงู ููุฅุถุงูุงุช ูุงูุฐู ููุฌูุฏ ูุฏู ููุฑุฏุจุฑูุณ ูุบูุฑู. ูุฐู ุงูุฅุถุงูุงุช ุชุถูู ุฅููุงููุงุช ุฌุฏูุฏุฉ ูุชุณูุญ ููุฌุชูุน ุงููุทูุฑูู ุจุงููุณุงููุฉ ูู ุชุทููุฑ ุจูุฆุฉ `Gatsby` ูุฌุนููุง ุบููุฉ ุฃูุซุฑ ูุฃูุซุฑ. ููุนู ูุฐู ููุทุฉ ููุฉ ููุฑุจุฑูุณ ุงูุฃููู ูุงูุชู ุฌุนูุช ููู ูุง ูู ุนููู ุงูููู.

ููู ูููู ุจูุฑุงุกุฉ ุงูููู `the-birth-of-israel-documentary.md` ุงูุฐู ุฃูุดุฃูุงู ูุชููุงุ ุณูุนุชูุฏ ุนูู ุฅุถุงูุชูู ุงุซูุชูู ูุง ุซุงูุซ ูููุง:

- `gatsby-source-filesystem`
- `gatsby-transformer-remark`

ุงูุฃููู ุชุณูุญ ูุฌุงุชุณุจู ุจูุฑุงุกุฉ ุงููููุงุช ูู ูุธุงู ุงููููุงุช Filesystem ุนูุฏูุงุ ูุงูุซุงููุฉ ุชุฃุฎุฐ ูุง ูุฑุฃุชู ุงูุฃููู ูุชุณุงุนุฏ ูู ุชูุณูุฑ (Parse) ุงููุนูููุงุช ุงููุงุฑุฏุฉ ููู ุจุตูุบุฉ Markdownุ ููุง ูุณูุญ ููุชูุญ ูุฌุงุชุณุจู **ุชุญููู** ุชูู ุงููุนูููุงุช ุฅูู ุฃุดูุงุก ูุณุชุทูุน ุงููุณุชุฎุฏู ุฃู ุงููุทูุฑ ุงูุฅุณุชุนูุงู ุนูููุง ุจูุงุณุทุฉ `Graphql`.

ูุธุงู ูุชูุงูู ูู ุฌุฒุก ููู ูููู ุจูููุฉ ูุญุฏุฏุฉ ุจุฏูุฉ.

`gatsby-transformer-remark` ูู ุฅุถุงูุฉ **ุชูุณูุฑ ูุชุญููู**ุ ููููููุง ุงุณุชุฎุฏุงู ุฅุถุงูุงุช ุฃุฎุฑู ูู ูุฐุง ุงูููุน ุฅุฐุง ููุง ููุฏ ุฌูุจ ุฃููุงุน ุฃุฎุฑู ูู ุงููุญุชููุงุช ุบูุฑ Markdown. ููุซูุง ููุงู:

- `gatsby-transformer-json`
- `gatsby-transformer-yaml`
- ุฅูุฎ...

ุจุฏูู ุฃู ูุทูุจ ุฃูุซุฑ ูู ุงูุญุฏูุซุ ุณูููู ุจุชุซุจูุช ุชูู ุงูุญุฒูุชูู ูู ูุดุฑูุนูุง:

```
npm install gatsby-source-filesystem gatsby-transformer-remark
```

ูุญู ุงูุขู ูููุง ุจุชุญููู ุงูุฅุถุงูุชูู ูุชุซุจูุชููุง ูู ูุดุฑูุนูุงุ ูููู ูู ูุฎุจุฑ ุจุนุฏ ุตุฏููููุง ุฌุงุชุณุจู ุนู ููููุฉ ุงูุฅุณุชุนุงูุฉ ุจููุง ููุฑุงุกุฉ ูููุงุชูุง ุงูููุฌูุฏุฉ ุฏุงุฎู ุงููุฌูุฏ `content`.

ุฏุนููุง ูููู ุจุฅุถุงูุฉ ุชูู ุงูุฅุนุฏุงุฏุงุช ููุฑุง ..

ุฃูู ุฎุทูุฉ ูู ุฅูุดุงุก ููู ุฌุฏูุฏ ุงุณูู `gatsby-config.js` ูู ุงููุฌูุฏ ุงูุฑุฆูุณูุฉ ูููุดุฑูุน. ูุฐุง ุงูููู ุณูุถู ูุงูุฉ ุงูุฅุถุงูุงุช ุงูุชู ุชุถุงู ููุดุฑูุน Gatsby ูุน ุฅุนุฏุงุฏุงุชูุง ุงูุฎุงุตุฉ.

ุจุนุฏ ุฅูุดุงุก ุงูููู ูุถุน ููู ุงูููุฏ ุงูุขุชู:

<div class="filename">gatsby-config.js</div>

```js
module.exports = {
  plugins: [
    {
      resolve: 'gatsby-source-filesystem',
      options: {
        path: 'content',
      },
    },
    {
      resolve: `gatsby-transformer-remark`,
    },
  ],
};
```

ูุงุญุธูุง ุฃููุง ูู ูุฐุง ุงูููู ูููู ุจุชุตุฏูุฑ ูุงุฆู ุฌุงูุงุณูุฑูุจุช ูุถู ุฎุงุตูุฉ ุนูู ุดูู ูุตูููุฉ ุงุณููุง `plugins`. ูุฐู ุงููุตูููุฉ ุชูุซู ูุงูุฉ ุงูุฅุถุงูุงุช ุงูุชู ูุฑูุฏ ุงุณุชุฎุฏุงููุง ุจูุฏููุชูุง.

ูุญุฏ ุงูุณุงุนุฉ ุชูุฌุฏ ุฅุถุงูุชุงู ููุท! ููููููู ููุงุญุธุฉ ููู ุฃุฎุจุฑูุง `gatsby-source-filesystem` ุจุฃู ุนูููุง ุงูุจุญุซ ูู ุงููุฌูุฏ `content` ุนู ูููุงุช ุงููุญุชููุ ูุฐูู ุนุจุฑ ุงูุฎุงุตูุฉ `options` ุงูุชู ูุถุน ุจุฏุงุฎููุง ุฅุนุฏุงุฏุงุช ูู ุฅุถุงูุฉ ุนูู ุญุฏุฉ.

ุงูุขู ุฅุฐุง ูุชุญูุง ุงูุฑุงุจุท `http://localhost:8002/___graphql` ุณููุงุญุธ ุจุฃูู ุชูุช ุฅุถุงูุฉ ููุนูู ุฌุฏูุฏูู ูู **ุงูุฅุณุชุนูุงูุงุช** ุฅูู ุฎุงุฏู Graphql ุงูุฎุงุต ุจุฌุงุชุณุจูุ ูููุง: `allMarkdownRemark` ู `markdownRemark` ููุง ูู ูุงุถุญ ูู ุงูุตูุฑุฉ ุฃุฏูุงู.

![ุฎุงุฏู Graphql](../images/gatsby-graphql-server.png)

ูุฐุงู ุงูุฅุณุชุนูุงูุงู (Queries) ุงูุฌุฏูุฏุงู ุณููููุงููุง ู ููุง ุณููุชุดู ุจุนุฏ ูููู ู ูู ุทูุจ ุงูุชุฏูููุงุช ุงูุชู ุฃูุดุฃูุงูุง ูุฐูู ุจุงุณุชุฎุฏุงู ูุบุฉ ุงูุฅุณุชุนูุงูุงุช GraphQL ูุน React.js.

## ุจูุงุก ุงูุตูุญุงุช

ุงูุขู ูุฏููุง ูู ุงูุฃุฏูุงุช ุงููุงุฒูุฉ ูุจูุงุก ูุฅูุดุงุก ุตูุญุงุช ูู Gatsby.

ูุฏููุง ูููุงุช ุงููุญุชูู ุนูู ุดูู ุตูุบุฉ ูุงุฑู ุฏุงููุ ููุฏููุง ุงุณุชุนูุงูุงุช GraphQL ูุทูุจ ูุญุชููุงุช ุชูู ุงููููุงุช.

ูุจู ุฃู ูุจุฏุฃ ูู ุฅูุดุงุก ุฃู ุตูุญุฉุ ูุฌุจ ุฃู ูุนูู ุฃู ููุงู ูู ุฌุงุชุณุจู **ุซูุงุซ ุทุฑู** ูุชุงุญุฉ ูุฅูุดุงุก ุงูุตูุญุงุช:

- ุงูุทุฑููุฉ ุงูุฃููู: ุนู ุทุฑูู ุฅูุดุงุก ููููุงุช ุฑูุงูุช ูู ุงููุฌูุฏ `src/pages`ุ ุจุดุฑุท ุฃู ูุชู ุชุตุฏูุฑ ุชูู ุงูููููุงุช ุนูู ุดูู Default export. ูุฐู ุงูุทุฑููุฉ ูุฌุฏูุง ูุชุจุนุฉ ูู ูุฎุชูู ุฃุทุฑ ุนูู ุฌุงูุงุณูุฑูุจุช ุงููุนุฑููุฉ ูุซู Next.js ููุฐูู Nuxt.js.

- ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุนู ุทุฑูู `File System Route API` ุงูุฐู ูุณูุญ ููุง ุจุฅูุดุงุก ุตูุญุงุช ูุญูููุฉ ุจุจูุงูุงุช GraphQLุ ูุน ุฅููุงููุฉ ุจูุงุก ุตูุญุงุช **ูุงุญูุฉ ุงูุนููู ููุท**. ูุฐู ุงูุฃุฎูุฑุฉ ููุฒุฉ ูููุฉ ูุณูุณุชุฎุฏููุง ูู ุตูุญุฉ ุงูุจุญุซุ ุญูุซ ุฃู ูุชุงุฆุฌ ุงูุจุญุซ ูู ุจูู ุงูุตูุญุงุช ุงูุชู ูุง ูููู ุชูููุฏูุง ูู ูุฑุญูุฉ Build ูุฃููุง ูุชุนููุฉ ุจูุฏุฎูุงุช ุงููุณุชุฎุฏู.

- ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: ุนู ุทุฑูู ุงูููู `config-node.js` ูุงููุงุฌูุฉ ุงูุจุฑูุฌูุฉ `createPages`. ูุฐู ุงูุทุฑููุฉ ูุง ุชุณุชุฎุฏู ุฅูุง ุนูุฏูุง ูุตู [ููุญุฏูุฏ ุงููุตูู ููุทุฑููุฉ ุงูุซุงููุฉ](https://www.gatsbyjs.com/blog/fs-route-api/). ูุนูู ุฃููุง ูุง ููุฌุฃ ุฅูููุง ุฅูุง ูู ุญุงูุงุช ุฎุงุตุฉ ูุง ุชุฌุฏู ูููุง ูุงุฌูุฉ `File System Route API`.

### ุจูุงุก ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

ุณูุชุจุน ุงูุทุฑููุฉ ุงูุฃููู ูุฅูุดุงุก ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ. ูุฐูู ุณูุถูู ุงูููู `src/index.js` ูุจุฏุงุฎูู ุงูููุฏ ุงูุชุงูู:

<div class="filename">src/index.js</div>

```jsx
import React from 'react';
import { graphql, useStaticQuery } from 'gatsby';
import { Helmet } from 'react-helmet';

import Layout from '../components/layout';
import PostList from '../components/post-list';
import Seo from '../components/Seo';

import config from '../siteConfig';

const Home = () => {
  const data = useStaticQuery(graphql`
    query {
      allMarkdownRemark(
        sort: { fields: frontmatter___date, order: DESC }
        filter: { frontmatter: { template: { eq: "post" } } }
      ) {
        edges {
          node {
            frontmatter {
              slug
              title
              template
              categories
              about
              date(formatString: "DD-MM-YYYY")
              updated_at(formatString: "DD-MM-YYYY")
            }
          }
        }
      }
    }
  `);

  const posts = data.allMarkdownRemark.edges;

  return (
    <Layout>
      <Seo />
      <Helmet>
        <title>{config.siteTitle}</title>
      </Helmet>
      <div className="white-box padding-2">
        <PostList posts={posts} />
      </div>
    </Layout>
  );
};

export default Home;
```

ูุงุญุธ ููู ุงุณุชุฎุฏููุง ุงูุฎุทุงู `useStaticQuery` ูุฌูุจ ุงูุจูุงูุงุช ูู ุฎุงุฏู GraphQLุ ููู ุฎูุงูู ุงุณุชุทุนูุง ุงููุตูู ููุชุฏูููุงุช `posts` ุงูุชู ูุฑุฑูุงูุง ูููููู `PostList` ููููู ุจุนุฑุถูุง.

ูุฅุฐุง ุฃูููุชู ูุธุฑุฉ ุนูู ุงูุทูุจ `allMarkdownRemark` ูุณุชูุงุญุธูู ุฃููุง ุทูุจูุง ููู ุฃู ูุฌูุจ ููุง ููุท ุงููุญุชููุงุช ุญูุซ ุงูุฎุงุตูุฉ `template` ูู ุงูุชุฑููุณุฉ (frontmatterr) ุชุณุงูู `post`. ููุญู ูุง ูุฑูุฏ ุนุฑุถ ุงูุตูุญุงุช ูุซู "ุงุชุตู ุจูุง" ุถูู ูุงุฆูุฉ ุงูููุงูุงุช ุจุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ๐

ุฅูู ุฌุงูุจ `PostList`ุ ููุงู ูููู ุฌุฏูุฏ ุฃูุดุฃูุงู ุงุณูู `Seo` ูููู ูู ูุง ูุชุนูู ุจุงููุณูู ุงูุชู ูุฌุฏูุง ุนุงุฏุฉ ุฏุงุฎู ุงููุณู `<head>` ูู ุตูุญุฉ `html` ูุงูุชู ุชูุนุจ ุฏูุฑุง ูููุง ูุฌุนู ุตูุญุงุชูุง ุตุฏููุฉ ููุญุฑูุงุช ุงูุจุญุซ ูููุตุงุช ุงูุชูุงุตู ุงูุฅุฌุชูุงุนู.

ูู ุฐูู ุจูุถู ุงูุญุฒูุฉ `react-helmet` ุงูุชู ููุช ุจุชุซุจูุชูุง ุจูุงุณุทุฉ `npm` ูุงูุชู ุชููู ุจุฅุถุงูุฉ ุฃู ููุฏ `html` ููุฌูุฏ ุฏุงุฎู ุงููููู `<Helmet>` ุฅูู ุงููุณู `<head>` ูู ุงูุตูุญุฉ.

ุฃุชููู ุฃู ุชููู ูุฐู ุงูุฌุฒุฆูุฉ ูุงุถุญุฉ. ุฅุฐุง ูู ุชูู ูุฐูู ูููููู ุตุฏููู ุงูุนุฒูุฒ ุฃู ุชููู ูุธุฑุฉ ุณุฑูุนุฉ [ูุชูุซูู](https://www.npmjs.com/package/react-helmet) `react-helmet` ูุชููู ุฃูุซุฑ ุขููุฉ ุนูููุง.

> ุงูููููุงู `<Seo />` ู `<PostList />` ุฃูุดุฃูุงููุง ุจุฃููุณูุง ูุณุชุฌุฏููุง ูู ุงูููุฏุ ุจูููุง ุงููููู `<Helmet />` ุฌุงุก ูู ููุชุจุฉ `react-helmet` ๐

### ุฅูุดุงุก ุตูุญุฉ 404

ุจููุณ ุงูุทุฑููุฉ ุณูุถูู ุงูุตูุญุฉ 404 ุงูุชู ุชุธูุฑ ุนูุฏูุง ูุง ูุชู ุฅูุฌุงุฏ ุงูุตูุญุฉ ุงูููุงุณุจุฉ ูุฑุงุจุท ูุญุฏุฏ. ูููุดุฆ ุงูููู `src/404.js` ููุถูู ุจุฏุงุฎูู ูุฐุง ุงูููุฏ:

<div class="filename">src/404.js</div>

```jsx
import React from 'react';
import { Link } from 'gatsby';
import { Helmet } from 'react-helmet';

import Layout from '../components/layout';
import Seo from '../components/Seo';

import config from '../siteConfig';

const NotFound = () => {
  return (
    <Layout>
      <Seo />
      <Helmet>
        <title>{config.siteTitle}</title>
      </Helmet>
      <div className="white-box padding-2">
        <div className="results-container main-border margin-3">
          <div className="background-1">
            <>
              <h4 className="no-margin padding-1 results-head">
                ุนููุงู ูุง ุชูุฌุฏ ูุฏููุง ุตูุญุฉ ุจูุฐุง ุงูุนููุงู!
              </h4>
              <p className="go-home-link padding-1 no-margin">
                <Link to="/">&lt;&lt; ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</Link>{' '}
              </p>
            </>
          </div>
        </div>
      </div>
    </Layout>
  );
};

export default NotFound;
```

> ุชุตุฏูุฑ ุงููููู ุนูู ุดูู `default` **ุถุฑูุฑู** ุญุชู ูุนุชุจุฑู `Gatsby.js` ูุตูุญุฉ.

### ุฅุถุงูุฉ ุงูุตูุญุงุช ูุงูุชุฏูููุงุช

ุณูุณุชูุฑ ูู ุฅุถุงูุฉ ุงูุตูุญุงุช ุงููุชุจููุฉุ ุฏุงุฆูุง ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ `File System Route API`ุ ูุฐูู ุจุฅูุดุงุก ููู ุฌุฏูุฏ ุฏุงุฎู ุงููุฌูุฏ `pages` ูููู ุงุณูู `{MarkdownRemark.parent__(File)__name}.js`.

**ุงูุฅุณู ููุง ููู** ููู ููููู ุฌุงุชุณุจู. ุญูุซ ุฃูู ูุฎุจุฑ ุงูุฃุฎูุฑ ุจุฃู ูุจุญุซ ูู ุฌููุน ูููุงุช ุงููุญุชูู (Markdown files) ููููู ุจุชูููุฏ ุฑูุงุจุท ุชุณุงูู ุงูุฅุณู ุงูุฐู ุงุฎุชุฑูุงู ููููู.

ูุซูุง ุฅุฐุง ูุงู ุงุณู ููู markdown ูู `learn-gatsby.md`ุ ูุฅู ุงูุฑุงุจุท ุงููููุฏ ุณูููู ูู `/learn-gatsby`.

ููุง [ุดุฑุญ ุฅุถุงูู](https://www.gatsbyjs.com/docs/reference/routing/file-system-route-api/) ููุฐู ุงูุฌุฒุฆูุฉ ูู ุญุงู ุฃุฑุฏุช ุตุฏููู ุงูุฅุณุชุฒุงุฏุฉ ุฃูุซุฑ.

#### ุงูููุฏ

ุงูุดูุฑุฉ ุงููุตุฏุฑูุฉ ููููู `{MarkdownRemark.parent__(File)__name}.js` ุณุชููู ุนูู ุงููุญูู ุงูุขุชู:

```jsx
import React from 'react';
import { graphql } from 'gatsby';
import Helmet from 'react-helmet';

import Layout from '../components/layout';
import Page from '../components/page';
import Post from '../components/post';
import Seo from '../components/Seo';

import config from '../siteConfig';

export default ({ data, uri }) => {
  const post = data.markdownRemark;

  return (
    <Layout>
      <Helmet>
        <title>{`${post.frontmatter.title} โ ${config.siteTitle}`}</title>
      </Helmet>

      <Seo postPath={uri} postNode={post} postSEO />

      {post.frontmatter.template === 'page' ? (
        <Page post={post} />
      ) : (
        <Post post={post} />
      )}
    </Layout>
  );
};

export const query = graphql`
  query($id: String!) {
    markdownRemark(id: { eq: $id }) {
      frontmatter {
        title
        categories
        tags
        template
        date(formatString: "DD-MM-YYYY")
        updated_at(formatString: "DD-MM-YYYY")
      }
      html
    }
  }
`;
```

ูุงุญุธูุง ููู ุทูุจูุง ูู ุฌุงุชุณุจู ุฌูุจ ุงููุนูููุงุช ูู ูููุงุช ุงููุญุชูู ุนู ุทุฑูู ุงูุทูุจ `markdownRemark`. ุงู `id` ุงููุณุชุฎุฏู ุฏุงุฎูู ุฎุงุต ุจ `Gatsby`ุ ุฅุฐ ูุณุชุนูู ุจู ูุชุนุฑูู ูู ุตูุญุฉ ุนูู ุญุฏุฉ.

ูุชูุฌุฉ ุงูุทูุจ ุฃู Query ุชุญูู ูุจุงุดุฑุฉ ูู ุงููููู ุงูุฅูุชุฑุงุถู ุงููุตุฏุฑ ูู ูุฐุง ุงูููู. ูุฃุฎุฐ ูููุง `data` ู `uri` ุงููุฐุงู ูุญุชุงุฌููุง ูู ูุซุงููุง.

ุจุงูู ุงูููุฏ ุฃุธูู ุณูู ููุฃูููุ ููุท ูุนุฑุถ ุงููููู `<Page />` ุงูุฐู ุฃูุดุฃูุงู ูุนุฑุถ ูุญุชูู ุงูุตูุญุงุช (ูููุณ ุงูุชุฏูููุงุช)ุ ุจูููุง ูุชููู `<Post />` ุนุฑุถ ูุญุชูู ุงูุชุฏูููุงุช.

ููุงู ูุฑููุงุช ุทูููุฉ ุจููููุงุ ุฅุฐ ุฃููุง ูุซูุง ุฃุถููุง ุตูุฏูู ุงูุชุนูููุงุช `Disqus` ุฃุณูู ุงูุชุฏูููุงุช ุจูููุง ูุง ุฏุงุนู ูู ูู ุงูุตูุญุงุช.. ูุซู ูุฐู ุงูุฃููุฑ ูู ูุฌุฑุฏ ููุฏ React.js ุงุนุชูุงุฏูุ ูู ุฃุดุฑุญู ุฃูุซุฑ ุญุชู ูุง ูุตุจุญ ูุฐุง ุงูููุงู ููุฃูู ูุชุงุจ ุฅููุชุฑููู ๐ ุณุจู ูุฃู ูุจูุช ุฅูู ุฃู ุงูููุชุฑุถ ูู ูู ูุฑูุฏ ุชุนูู Gatsby ุงูุฅููุงู ุจุฅุทุงุฑ ุงูุนูู React.js ูุงูุฃููุงุฑ ุงูุชู ุจูู ุนูููุง.

ุนูู ูู ุญุงู ุณุชุฌุฏ ุงูุฑุงุจุท ูุญู ุงูููุฏ ุงููุตุฏุฑู ูุงููุง ูู ููุงูุฉ ูุฐู ุงูุชุฏูููุฉ ๐

<blockquote style="border-color: #7bcbe3; background: #f1fcff;">
  <p>
   ุฅุถุงูุฉ ุตูุฏูู ุงูุชุนูููุงุช ุฃุณูู ุงูุชุฏูููุฉ ุชู ุจุงุณุชุฎุฏุงู ุงูุญุฒูุฉ <code>disqus-react</code> ุงูุชู ูููู ุชุซุจูุชูุง ุจูู ุณูููุฉ ุนู ุทุฑูู <code>npm</code>ุ ูุงุณุชุนูุงู ุงููููู <code>DiscussionEmbed</code> ุงูุฐู ููุฑุฑ ูู ุฅุนุฏุงุฏุงุช ุญุณุงุจูุง ุงูุฐู ูุชุญูุงู ููุฐุง ุงูุบุฑุถ ุนูู ูููุน <code>disqus.com</code>. 
   </p>
   <p>
    ุงูุทุฑููุฉ ุบุงูุฉ ูู ุงููุถูุญ ููุง ุณุชุฑู ูู ุงูููู `src/components/post.js`.
   </p>
</blockquote>

## ุฅูุดุงุก ุตูุญุงุช ุงูุชุตูููุงุช ูุงููุณูู

ุงูุขู ุณูููู ูุถุทุฑูู ููุฅุณุชุนุงูุฉ ุจุงูุทุฑููุฉ ุงูุซุงูุซุฉ ูุฅูุดุงุก ุงูุตูุญุงุช ูู Gatsby.jsุ ุนู ุทุฑูู ุงูููู `gatsby-node.js`.

ุงูููุฑุฉ ุจุจุณุงุทุฉ ูู ุฃููุง ุณูุณุชุนูู ุนูู ุฌููุน ุงูุชุฏูููุงุช ููุณุชุฎูุต ูู ูู ูุงุญุฏุฉ ุนูู ุญุฏุฉ ุชุตูููุงุชูุง (Categories) ููุณูููุง (Tags). ุจุนุฏ ุฐูู ูููู ุจุชุฎุฒูู ูุฐู ุงููุณูู ูู ูุตูููุงุช ูู ููุน `Set` ููููู ุจุชูููุฏ **ุตูุญุฉ ููู ุชุตููู ูููู ูุณู**.

<blockquote style="border-color: #7bcbe3; background: #f1fcff;">
  <p>
   ุชุณุชุนูู <code>Set</code> ูู ุฌุงูุง ุณูุฑูุจุช ุนุงุฏุฉ ูุชุฎุฒูู ููู ุบูุฑ ููุฑุฑุฉ (Unique values)ุ ููุฐุง ุฃูู ูุง ูููุฒูุง ุนู ุงููุตูููุฉ ุงูุนุงุฏูุฉ (Array). ูุฐูู ุงุณุชุนูููุงูุง ููุง ููู ูุง ูุชู ุชูููู ุงูุตูุญุฉ ูุฑุชูู ูููุณ ุงูุชุตููู ุฃู ุงููุณู.
   </p>
</blockquote>

ุฅูููู ุงูููุฏ ุงูุฐู ุณูุถููู ูู ููููุง ุงูุฌุฏูุฏ `gatsby-node.js` ุงูููุฌูุฏ ูู ุฌุฐุฑ ูุดุฑูุนูุง (Project root)ุ ุฌูุจุง ุฅูู ุฌูุจ ูุน ุงููุฌูุฏ `src` (ูููุณ ุฏุงุฎูู).

<div class="filename">gatsby-node.js</div>

```js
const kebabCase = require('lodash/kebabCase');

exports.createPages = async ({ actions, graphql, reporter }) => {
  const categoryTemplate = require.resolve('./src/templates/category.js');
  const tagTemplate = require.resolve('./src/templates/tag.js');

  const result = await graphql(`
    query {
      allMarkdownRemark(
        sort: { fields: frontmatter___date, order: DESC }
        filter: { frontmatter: { template: { eq: "post" } } }
      ) {
        edges {
          node {
            frontmatter {
              categories
              tags
            }
          }
        }
      }
    }
  `);
  if (result.errors) {
    reporter.panic('error loading posts', result.errors);
    return;
  }

  const posts = result.data.allMarkdownRemark.edges;

  const categoriesSet = new Set();
  const tagsSet = new Set();

  posts.forEach((post) => {
    const { categories, tags } = post.node.frontmatter;

    if (categories) {
      categories.forEach((category) => {
        categoriesSet.add(category);
      });

      const categoriesList = Array.from(categoriesSet);
      categoriesList.forEach((category) => {
        actions.createPage({
          path: `/categories/${kebabCase(category)}/`,
          component: categoryTemplate,
          context: {
            category,
          },
        });
      });
    }

    if (tags) {
      tags.forEach((tag) => {
        tagsSet.add(tag);
      });

      const tagsList = Array.from(tagsSet);
      tagsList.forEach((tag) => {
        actions.createPage({
          path: `/tags/${kebabCase(tag)}/`,
          component: tagTemplate,
          context: {
            tag,
          },
        });
      });
    }
  });
};
```

ููุงุญุธ ุฃู ุชูููุฏ ุงูุตูุญุงุช ูุชู ุฏุงุฎู ุงูุฏุงูุฉ `createPages` ุนู ุทุฑูู ุงููุธููุฉ `createPage` ุงูุชู ูุชู ุชูููุฐูุง ุจุนุฏุฏ ุงูุตูุญุงุช ุงููููุฏุฉ ุฏุงุฎู `forEach`.

ูููู ูุฐูู ููุงุญุธุฉ ุฃูู ูุน ูู ุตูุญุฉ ูููุฏุฉ ูุชู ุญูู ูููุฉ ุงูุชุตููู `category` ุฃู ุงููุณู `tag` ุฏุงุฎู ุงููุงุฆู `context` ููุชู ุงุณุชุฎุฏุงููุง ูู ุงููุงูุจูู `categoryTemplate` ู`tagTemplate` ููุง ุณูุฑู ุจุนุฏ ูููู.

ุงููุงูุจ `categoryTemplate` ุณูููู ูุญุชูุงู ุดูุฆุง ุดุจููุง ุจูุง ููู:

<div class="filename">src/templates/category.js</div>

```jsx
import React from 'react';
import Helmet from 'react-helmet';
import { graphql } from 'gatsby';

import Layout from '../components/layout';
import PostList from '../components/post-list';
import Seo from '../components/Seo';

import config from '../siteConfig';

export default function CategoryTemplate({ pageContext, data }) {
  const { category } = pageContext;

  const posts = data.allMarkdownRemark.edges;

  return (
    <Layout>
      <Seo />
      <Helmet
        title={`ููุดูุฑุงุช ูู ุงูุชุตููู "${category}" โ ${config.siteTitle}`}
      />
      <div className="white-box padding-2">
        <PostList posts={posts} />
      </div>
    </Layout>
  );
}

export const pageQuery = graphql`
  query($category: String) {
    allMarkdownRemark(
      sort: { fields: frontmatter___date, order: DESC }
      filter: {
        frontmatter: {
          categories: { in: [$category] }
          template: { eq: "post" }
        }
      }
      limit: 100
    ) {
      edges {
        node {
          frontmatter {
            slug
            title
            template
            categories
            about
            date(formatString: "DD-MM-YYYY")
            updated_at(formatString: "DD-MM-YYYY")
          }
        }
      }
    }
  }
`;
```

ููุงุญุธ ุฃู ูุงูุจ ุงูุชุตููู ุดุจูู ุฌุฏุง ุจูุงูุจ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุญูุซ ูุงุฆูุฉ ุงูููุงูุงุช. ุงููุฑู ุงููุญูุฏ ููุง ุฃููุง ูุทูุจ ูู GraphQL ุฃู ูุฌูุจ ููุง ููุท ุงูุชุฏูููุงุช ุงูููุฌูุฏุฉ ุชุญุช ุงูุชุตููู ุงูุฐู ุชู ุญููู ุณุงุจูุง ูู ููู `gatsby-node.js` (ูู ุชุฐูุฑู ุ) ุฏุงุฎู `context` ูุงูุชูุทูุงู ููุง ูุฅุณุชุนูุงูู ูุชูุฑูุฑู ููุทูุจ `query` ูุจุงุฑุงูุชุฑ `$category`.

ุณูููู ุจููุณ ุงูุดูุก ุจุงููุณุจุฉ ููุงูุจ ุงููุณูุ ุงููุฑู ุงููุญูุฏ ุณูููู ูู ุงุณุชุนูุงู GraphQLุ ุญูุซ ุณูุณุชุนูู ููุง ุงูููุชุฑุฉ ุจ `tag` ุนูุถ `category`.

<div class="filename">src/templates/tag.js</div>

```jsx
import React from 'react';
import Helmet from 'react-helmet';
import { graphql } from 'gatsby';

import Layout from '../components/layout';
import PostList from '../components/post-list';
import Seo from '../components/Seo';

import config from '../siteConfig';

const TagTemplate = ({ pageContext, data }) => {
  const { tag } = pageContext;
  const posts = data.allMarkdownRemark.edges.filter(
    (post) => post.node.frontmatter.template === 'post'
  );

  return (
    <Layout>
      <Seo />
      <Helmet title={`ููุดูุฑุงุช ูู ุงููุณู "${tag}" โ ${config.siteTitle}`} />
      <div className="white-box padding-2">
        <PostList posts={posts} />
      </div>
    </Layout>
  );
};

export default TagTemplate;

export const pageQuery = graphql`
  query($tag: String) {
    allMarkdownRemark(
      sort: { fields: frontmatter___date, order: DESC }
      filter: { frontmatter: { tags: { in: [$tag] } } }
      limit: 100
    ) {
      edges {
        node {
          frontmatter {
            slug
            title
            template
            categories
            about
            date(formatString: "DD-MM-YYYY")
            updated_at(formatString: "DD-MM-YYYY")
          }
        }
      }
    }
  }
`;
```

## ุฅุถุงูุฉ ุงุณุชูุงุฑุฉ ุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉ

ุงุณุชูุงุฑุฉ ุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉุ ูุงูุชู ุงุฎุชุฑูุง ููุง ูู ูุซุงููุง ูุฐุง ููุตุฉ Mailchmpุ ุนุจุงุฑุฉ ุนู ูููู ุฑูุงูุช ูุนุฑุถ ููุฏ HTML ุงูุฐู ุญุตููุง ุนููู ูู ุญุณุงุจูุง ุนูู ููุตุฉ [ูุงูู ุดูุจ](https://mailchimp.com/).

ููุท ูู ุจูุณุฎ ุงูููุฏ ูู ููุงูู ูุงูุตูู ุนูุฏู ูู ุงููููู ูุน ุจุนุถ ุงูุชูุณูู ุนู ุทุฑูู CSS ุทุจุนุง.

<div class="filename">src/components/sidebar/Newsletter.js</div>

```jsx
import React from 'react';

import config from '../../siteConfig';

const Newsletter = () => (
  <div className="the-ad-container main-border margin-3">
    <div className="the-ad-header padding-1">
      <h4 className="no-margin in-block">ุงุดุชุฑู ูู ุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉ</h4>
    </div>
    <div className="padding-1">
      <form
        action={config.mailchimpActionUrl}
        method="post"
        id="mc-embedded-subscribe-form"
        name="mc-embedded-subscribe-form"
        className="validate"
        target="_blank"
        noValidate=""
      >
        <div id="mc_embed_signup_scroll">
          <input
            type="email"
            name="EMAIL"
            className="email"
            id="mce-EMAIL"
            placeholder="ุฃุฏุฎู ุจุฑูุฏู ุงูุงููุชุฑููู ููุง"
            required=""
          />

          <div id="fake-input" aria-hidden="true">
            <input
              type="text"
              name="b_e89e9cac4b887c5ca51a7bfa8_d4d17540ed"
              tabIndex="-1"
              defaultValue=""
            />
          </div>
          <div className="clear">
            <input
              type="submit"
              value="ุชุฃููุฏ ุงูุงุดุชุฑุงู"
              name="subscribe"
              id="mc-embedded-subscribe"
              className="button"
            />
          </div>
        </div>
      </form>
    </div>
  </div>
);

export default Newsletter;
```

## ุญูู ุงูุจุญุซ ูู ุงููุฏููุฉ

ูุฅุถุงูุฉ ุฎุงุตูุฉ ุงูุจุญุซ ููุฏููุชูุง ุณูุณุชุนูู ูุฑุฉ ุฃุฎุฑู ุจูุงุฌูุฉ `File System Route API`.

ุงูููุฑุฉ ูู ุฃููุง ุณูููู ุจุฅูุดุงุก ุตูุญุฉ ูู ุงููุณุงุฑ `pages/search/[term].js` ูุณุชููู ุจุงุณุชูุจุงู ูููุฉ ุงูุจุญุซ ุนูู ุดูู ุจุงุฑุงูุชุฑ ูู ุงูุฑุงูุชุฑ. ูุฐุง ุงูุจุงุฑุงูุชุฑ ุฃุณููุชู `term` ูููุง ุชุฑูู ุชู ูุถุนู ุจูู `[ ]` ููุง ูุชููุน Gatsby.js.

ุฅุฐู ุจูุฌุฑุฏ ุงูุฏุฎูู ุฅูู ุงููุณุงุฑ `/search/example` ูุซูุงุ ูุฅูู ุณูุชู ุญูู ุงููููุฉ `example` ูู ูุงุฆู ุงุณูู `params` ุฏุงุฎู ุงูุฎุงุตูุฉ ุงูุฃู `props` ุงูุชู ุชูุซู ูุฌููุน ุฎุตุงุฆุต ุงููููู.

ูุง ููููุง ูุญู ููุง ูู ุงููุงุฆู `params` ููุทุ ุงูุฐู ูุฃุฎุฐ ููู ูููุฉ `term`.

ุนูุฏูุง ูุฃุฎุฐ ุชูู ุงููููุฉ ูู `term` ูุฅููุง ูุณุฎุฏููุง ูููุชุฑุฉ ูุฌููุน ุงูุชุฏูููุงุช ููุฃุฎุฐ ููุท ุงูุชุฏูููุงุช ุงูุชู ุชุชุถูู ุชูู ุงููููุฉ ูู ุนูุงููููุง. ูุฐู ุฃุจุณุท ุทุฑููุฉ ูููู ุฃู ูุจูู ุจูุง ุฎุงุตูุฉ ุงูุจุญุซ ูู ุงููุฏููุฉ.

**ูุง ูุฌุจ ุงุณุชูุนุงุจู ุฌูุฏุงุ ุฃู ุชูู ุงูููุชุฑุฉ ููุง ููุช ุชุชู ูู Runtime ูููุณ ูู Build time ูุจุงูู ุงูุตูุญุงุช!**

ูุฐุง ูุนูู ุฃู `/search/[term].js` ุงูุฐู ุฃูุดุฃูุงู ูุจู ูุญุธุงุช ูู Client side route ูุฃูู ูุฑุชุจุท ุจูุฏุฎูุงุช ุงููุณุชุฎุฏู ููุฏููุชูุงุ ุฅุฐ ูุง ูููู ุจุทุจูุนุฉ ุงูุญุงู ุชูููุฏ ูุชุฌููุฒ ุฌููุน ุตูุญุงุช ูุชุงุฆุฌ ุงูุจุญุซ ูุน ุฌููุน ุงููููุงุช ูุงูุชููููุงุช ุงูููููุฉ ูู build time ๐โโ๏ธ

<div class="filename">src/pages/search/[term].js</div>

```jsx
import React from 'react';

import Search from '../../components/client/Search';

export default function(props) {
  const searchTerm = props.params['term'];

  return <Search searchTerm={searchTerm} />;
}
```

<div class="filename">src/components/client/Search</div>

```jsx
import React from 'react';
import { useStaticQuery, graphql, Link } from 'gatsby';
import { Helmet } from 'react-helmet';

import Layout from '../layout';
import Seo from '../Seo';
import PostList from '../post-list';

import config from '../../siteConfig';

const Search = ({ searchTerm }) => {
  const data = useStaticQuery(graphql`
    query {
      allMarkdownRemark(
        sort: { fields: frontmatter___date, order: ASC }
        filter: { frontmatter: { template: { eq: "post" } } }
        limit: 100
      ) {
        edges {
          node {
            frontmatter {
              slug
              title
              template
              categories
              about
              date
              updated_at
            }
          }
        }
      }
    }
  `);

  // Filtering
  const posts = React.useMemo(
    () =>
      searchTerm
        ? data.allMarkdownRemark.edges.filter((post) =>
            post.node.frontmatter.title
              .toLowerCase()
              .includes(searchTerm.toLowerCase())
          )
        : [],
    [searchTerm]
  );

  return (
    <Layout>
      <Seo />
      <Helmet title={config.siteTitle} />
      <div className="white-box padding-2">
        <div className="results-container main-border margin-3">
          <div className="background-1">
            {posts.length ? (
              <h4 className="no-margin padding-1 results-head">ูุชุงุฆุฌ ุงูุจุญุซ</h4>
            ) : (
              <>
                <h4 className="no-margin padding-1 results-head">
                  ุนููุงู ูุง ุชูุฌุฏ ูุชุงุฆุฌ ูุทุงุจูุฉุ ุญุงูู ุงูุจุญุซ ุจุงุณุชุฎุฏุงู ูููุงุช ุฃุฎุฑู
                </h4>
                <p className="go-home-link padding-1 no-margin">
                  <Link to="/">&lt;&lt; ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</Link>{' '}
                </p>
              </>
            )}
          </div>
        </div>

        <PostList posts={posts} />
      </div>
    </Layout>
  );
};

export default Search;
```

ูุชุจูู ููุท ุฃู ูุทูุจ ูู Router ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ ูุชุงุฆุฌ ุงูุจุญุซ - ุจูุงุณุทุฉ ุงููููู `Link` ุงูุฐู ูููุฑู Gatsby - ุนูุฏ ุงูููุฑ ุนูู ุฒุฑ ุงูุจุญุซ ูู ุงูุตูุฏูู ุงูููุฌูุฏ ูู ุงูุดุฑูุท ุงูุฌุงูุจู (Sidebar):

<div class="filename">src/components/sidebar/Search.js</div>

```jsx{19,21}
import React from 'react';
import { Link } from 'gatsby';

import search from '../../images/search.svg';

const Search = () => {
  const [searchTerm, setSearchTerm] = React.useState('');

  return (
    <div className="search-container main-border margin-3">
      <form>
        <input
          className="text-base"
          type="text"
          placeholder="ุงุจุญุซ ูู ุงููุฏููุฉ..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
        <Link to={`/search/${searchTerm}`}>
          <img src={search} alt="ุจุญุซ" />
        </Link>
      </form>
    </div>
  );
};

export default Search;
```

## ูู ุงูุฎุชุงู

ููุฐุง ูููู ูุฏ ูุฑุฑูุง ุฃูู ููููุงุช ูุฏููุฉ ูุงุซู ุงูุดููุทุฑ ูุงูุชู ูุฌุฏูุง ูุฐูู ูู ุฃู ูุฏููุฉ ุฃุฎุฑู.

ุบุฑุถูุง ูู ูุฐุง ุงูุฏุฑุณ ูู ุฃู ูุชุนูู ููู ูุนูู ูููุฏ ุงูููุงูุน ุงูุณุงููุฉ Gatsby.jsุ ููุฐูู ููููุฉ ุฅูุดุงุก ุงูุตูุญุงุช ุนู ุทุฑูู ุงูุฅุณุชุนูุงู ูุญู ุฎุงุฏู GraphQL.

ุจุงูู ุงูุฃููุฑ ูุฌุฑุฏ ููุฏ React.js ูู ุงูููุฑูุถ ุฃูุง ูุดูู ูู ูุตุฏุฑุง ููุตุฏุงุน ุฃู ุงูุชูุฌุณ ูุงุฏูุช ูุฏ ุณุจู ูู ุงูุชุนุงูู ูุน ุชูู ุงูููุชุจุฉ ูุงุณุชูุนุจุช ุฃุณุงุณูุงุชูุง.

ูุฐุง ุงูุฏุฑุณ ุทููู.. ุฃุนูู ุฐูู ๐ ูููุฏ ุญุงููุช ูุฏุฑ ุงููุณุชุทุงุน ุฃูุง ูููู ุฃุทูู ูู ุฐูู ุญุชู ูุง ููู ุงููุงุฑุฆ ูุงููุชุนููุ ูููู ูู ููุณ ุงูููุช ูู ุฃุฑุฏ ุญุฑู ุฃู ูุฑุญูุฉ ุฃู ุชุฑู ุฃู ููุฉ ูู ููุถูุน ุจูุงุก ูุฏููุฉ ุจูุงุณุทุฉ Gatsby.js ูู ุงูุตูุฑ.

ุฃุชููู ุฃู ุงูุฏุฑุณ ูุงู ูููุฏุงุ **ูุฏุงุฆูุง ููุงู ุตูุฏูู ุงูุชุนูููุงุช ููุชูุงุนู ูุงูุฅุณุชูุณุงุฑุงุช**.

<p style="text-align: center;">
  <a href="https://github.com/aissa-bouguern/gatsby-watheq" target="_blank" title="ุฑุงุจุท ุงููุดุฑูุน ุนูู Github">
    ุฑุงุจุท ุงููุดุฑูุน ุนูู Github
  </a>
</p>

<Author slug="aissa" />
